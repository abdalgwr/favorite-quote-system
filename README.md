# Favorite Quotes Microservice

## Overview
This microservice provides a **ZeroMQ-based API** for managing favorite quotes. Users can:
- **Save a quote** to favorites.
- **Retrieve a list of favorite quotes**.
- **Remove a quote from favorites**.

This microservice communicates using **ZeroMQ REQ-REP pattern**, meaning each request **expects** a corresponding response.

---

## **Communication Contract**
**Set up ZeroMQ**
First of all, make sure you have ZeroMQ installed
```sh
pip3 install pyzmq 
```
or
```sh
pip install pyzmq
```
<br>

### **How to REQUEST Data from the Microservice**
All communication is done using **ZeroMQ**. To send a request, create a ZeroMQ `REQ` socket and send one of the following commands.

```python
import zmq
context = zmq.Context()
socket = context.socket(zmq.REQ)
socket.connect("tcp://localhost:5555") #using port 5555
```
<br> 

#### **1. Save a Quote**
**Request format: `"save:{quote}"`**
the `save:` keyword tells the microservice to save the quote. All you have to do is to include `save:` and your input `quote` and send them via `socket.send_string()`. So the microserver will know that you want to save this quote. See code below for an example
```python
quote = "This is a quote" #this can be any quote generated by your program
socket.send_string(f"save:{quote}") #send the request
```
In the microservice `fav_quote.py`, after receiving the request with the string, it checks for keyword `save:` then perform the specific action `add_to_favorites()`
```python
message = socket.recv_string()
if message.startswith("save:"):
    quote = message.split("save:", 1)[1].strip()  #extract the quote
    response = add_to_favorites(quote)

```
<br> 

#### **2. Retrieve Favorite Quotes**
**Request format: `"view_fav"`**
The `view_fav` keyword tells the microservice to retrieve a list of user's favorite quotes. All you have to do is to include `view_fav` in `socket.send_string()`. See code below for an exmaple
```python
    socket.send_string("view_fav")
```
In the microservice `fav_quote.py`, after receiving the request `view_fav`, it performs the specific action `show_fav_quote()`
```python
    message = socket.recv_string()
    elif message == "view_fav":
            response = show_fav_quote()
```
<br> 

#### **3. Remove a specific quote from favorite**
**Request format: `"get:{quote_number}"` AND `"remove"{quote_number}"`**